<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>上海欧津纺织服装有限公司｜OTSU YARN</title>

  <!-- 预加载关键资源 -->
  <link rel="preload" as="image" href="assets/flower.jpeg" fetchpriority="high">
  <link rel="preload" as="image" href="LOGO.png" fetchpriority="high">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

  <meta name="description" content="上海欧津纺织服装有限公司（OTSU YARN）专注高品质纱线开发与供应，支持特殊规格定制，中/英/日多语对接。" />
  <meta name="theme-color" content="#f6f1e9">

  <!-- 字体加载优化：使用 font-display: swap 防止阻塞渲染 -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&family=Noto+Sans+SC:wght@300;400;500;600&family=Noto+Sans+JP:wght@300;400;500;600&display=swap" rel="stylesheet">

  <style>
    :root{
      /* 色彩系统 */
      --bg:#f7f6f2;
      --bg2:#fbfaf7;
      --text:#171717;
      --muted:#6b6b6b;
      --line:rgba(0,0,0,.10);
      --ink:#111;
      --sand:#b89f7a;
      --graphite:#1c1c1c;
      --card:#ffffff;
      --radius:18px;
      --radius2:22px;
      --shadow:0 18px 60px rgba(0,0,0,.08);
      --shadow2:0 12px 40px rgba(0,0,0,.06);
      --wrap:1240px;
      --narrow:920px;
      
      /* 新增：过渡动画变量，统一管理 */
      --transition-fast:0.18s ease;
      --transition-base:0.22s ease;
      --transition-slow:0.3s ease;
    }

    *{box-sizing:border-box;margin:0;padding:0}
    
    html{
      scroll-behavior:smooth;
      /* 防止移动端点击高亮 */
      -webkit-tap-highlight-color:transparent;
    }
    
    body{
      font-family:"Inter","Noto Sans SC","Noto Sans JP",system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
      background:var(--bg);
      color:var(--text);
      line-height:1.9;
      letter-spacing:.01em;
      -webkit-font-smoothing:antialiased;
      text-rendering:optimizeLegibility;
      /* 防止iOS橡皮筋效果导致的背景穿透 */
      overscroll-behavior-y:none;
    }
    
    a{color:inherit;text-decoration:none}
    img{max-width:100%;height:auto;display:block}

    /* 工具类 */
    .wrap{ max-width:var(--wrap); margin:0 auto; padding:0 22px; }
    .narrow{ max-width:var(--narrow); }
    
    /* 多语言显示控制 - 使用更稳健的选择器 */
    [data-lang]{ display:none; }
    [data-lang].active{ display:inline; }

    /* ===== Header ===== */
    header{
      position:sticky;
      top:0;
      z-index:100; /* 提高z-index确保在最上层 */
      background:rgba(247,246,242,.92);
      backdrop-filter:blur(12px);
      -webkit-backdrop-filter:blur(12px);
      border-bottom:1px solid var(--line);
      transition:box-shadow var(--transition-base);
    }
    
    header.scrolled{
      box-shadow:0 4px 20px rgba(0,0,0,.08);
    }

    .topbar{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:18px;
      padding:14px 0;
    }
    
    .brand{
      display:flex;
      align-items:center;
      gap:14px;
      flex-shrink:0; /* 防止品牌区域被压缩 */
    }
    
    .brand img{
      height:60px;
      width:auto; /* 保持比例 */
      background:#fff;
      padding:10px 14px;
      border-radius:14px;
      border:1px solid rgba(0,0,0,.06);
      box-shadow:0 10px 28px rgba(0,0,0,.06);
      /* 图片加载前的占位背景 */
      background-color:#f0f0f0;
    }
    
    .brand-title{
      font-size:14px;
      font-weight:600;
      letter-spacing:.08em;
      color:var(--ink);
    }
    
    .brand-sub{
      font-size:12px;
      margin-top:3px;
      color:var(--muted);
      letter-spacing:.08em;
      font-weight:400;
    }

    /* 导航优化：移动端可滚动 */
    nav{
      display:flex;
      gap:18px;
      align-items:center;
      overflow-x:auto; /* 小屏幕横向滚动 */
      scrollbar-width:none; /* Firefox */
      -ms-overflow-style:none; /* IE/Edge */
    }
    
    nav::-webkit-scrollbar{ display:none; } /* Chrome/Safari */
    
    nav a{
      font-size:12px;
      color:rgba(0,0,0,.76);
      letter-spacing:.14em;
      text-transform:uppercase;
      padding:6px 0;
      position:relative;
      white-space:nowrap;
      transition:color var(--transition-fast);
    }
    
    nav a:hover{ color:rgba(0,0,0,.92); }
    
    nav a::after{
      content:"";
      position:absolute;
      left:0;
      bottom:0;
      width:0%;
      height:2px;
      background:var(--sand);
      transition:width var(--transition-base);
    }
    
    nav a:hover::after{ width:100%; }

    .lang-switch{ 
      display:flex; 
      gap:8px; 
      align-items:center;
      flex-shrink:0;
    }
    
    .lang-switch button{
      background:transparent;
      border:1px solid rgba(0,0,0,.18);
      color:rgba(0,0,0,.72);
      padding:6px 12px;
      border-radius:999px;
      font-size:12px;
      letter-spacing:.06em;
      cursor:pointer;
      transition:all var(--transition-fast);
      font-weight:500;
      min-width:44px; /* 确保触摸目标足够大 */
    }
    
    .lang-switch button:hover,
    .lang-switch button:focus{
      border-color:rgba(0,0,0,.30);
      color:rgba(0,0,0,.88);
      transform:translateY(-1px);
      outline:none;
    }
    
    .lang-switch button.active{
      background:var(--ink);
      color:#fff;
      border-color:var(--ink);
    }

    /* ===== Sections ===== */
    .section{ padding:104px 0; }
    .section-white{ background:var(--bg2); }
    .section-light{ background:#ffffff; }
    .section-dark{
      background:linear-gradient(180deg,var(--graphite) 0%, #131313 100%);
      color:#fff;
    }

    .kicker{
      font-size:11px;
      letter-spacing:.34em;
      text-transform:uppercase;
      color:rgba(0,0,0,.52);
      margin:0 0 14px 0;
      font-weight:600;
    }
    
    .title{
      font-size:clamp(32px, 5vw, 40px); /* 响应式字体 */
      font-weight:500;
      margin:0 0 18px 0;
      letter-spacing:.04em;
      line-height:1.18;
      color:var(--ink);
    }
    
    .title-light{
      font-size:clamp(32px, 5vw, 40px);
      font-weight:500;
      margin:0 0 18px 0;
      letter-spacing:.04em;
      line-height:1.18;
      color:#fff;
    }
    
    .lead{
      font-size:15px;
      color:rgba(0,0,0,.70);
      margin:0 0 14px 0;
      line-height:2.0;
    }
    
    .lead-light{
      font-size:15px;
      color:rgba(255,255,255,.86);
      margin:0 0 14px 0;
      line-height:2.0;
    }

    /* ===== Motion Respect ===== */
    @media (prefers-reduced-motion: reduce){
      *{ 
        scroll-behavior:auto !important; 
        animation-duration:0.01ms !important;
        animation-iteration-count:1 !important;
        transition-duration:0.01ms !important;
      }
    }

    /* ===== Hero ===== */
    .hero{
      position:relative;
      overflow:hidden;
      padding:96px 0 86px 0;
      background:
        radial-gradient(1200px 520px at 10% 10%, rgba(184,159,122,.10) 0%, rgba(0,0,0,0) 60%),
        linear-gradient(to bottom, rgba(247,246,242,.70) 0%, rgba(247,246,242,.88) 56%, rgba(247,246,242,.98) 100%),
        url('assets/flower.jpeg');
      background-size:cover;
      background-position:center;
      /* 移动端禁用fixed背景提升性能 */
      background-attachment:scroll;
    }
    
    @media (min-width: 1024px){ 
      .hero{ background-attachment:fixed; } 
    }

    /* 动画类 - 使用Intersection Observer触发，而非自动播放 */
    .fade-up{
      opacity:0;
      transform:translateY(20px);
      transition:opacity 0.8s ease, transform 0.8s ease;
    }
    
    .fade-up.visible{
      opacity:1;
      transform:translateY(0);
    }

    .hero-kicker{
      font-size:11px;
      letter-spacing:.44em;
      color:rgba(0,0,0,.56);
      margin:0 0 16px 0;
      font-weight:700;
      text-transform:uppercase;
    }
    
    .hero-title{
      font-size:clamp(36px, 6vw, 56px);
      font-weight:500;
      letter-spacing:.03em;
      margin:0 0 16px 0;
      color:var(--ink);
      line-height:1.08;
    }
    
    .hero-desc{
      font-size:15px;
      color:rgba(0,0,0,.68);
      margin:0 0 22px 0;
      line-height:2.05;
      max-width:860px;
    }

    .chips{ 
      display:flex; 
      gap:10px; 
      flex-wrap:wrap; 
      margin-top:10px; 
    }
    
    .chip{
      padding:9px 14px;
      border-radius:999px;
      font-size:13px;
      color:rgba(0,0,0,.78);
      border:1px solid rgba(0,0,0,.12);
      background:rgba(255,255,255,.62);
      box-shadow:0 10px 26px rgba(0,0,0,.05);
      letter-spacing:.04em;
      font-weight:500;
      transition:transform var(--transition-fast), box-shadow var(--transition-fast);
    }
    
    .chip:hover{ 
      transform:translateY(-2px); 
      box-shadow:0 14px 36px rgba(0,0,0,.07); 
    }

    /* ===== Philosophy ===== */
    .philo{
      background:linear-gradient(180deg, rgba(255,255,255,.70) 0%, rgba(255,255,255,1) 100%);
      border-top:1px solid rgba(0,0,0,.06);
      border-bottom:1px solid rgba(0,0,0,.06);
    }
    
    .philo-card{
      background:#fff;
      border:1px solid rgba(0,0,0,.06);
      border-radius:var(--radius2);
      padding:34px;
      box-shadow:var(--shadow2);
    }
    
    .philo-quote{
      font-size:18px;
      line-height:2.05;
      color:rgba(0,0,0,.78);
      letter-spacing:.02em;
    }
    
    .philo-quote strong{
      font-weight:600;
      color:rgba(0,0,0,.88);
    }
    
    .philo-sub{
      margin-top:14px;
      font-size:13px;
      color:rgba(0,0,0,.52);
      letter-spacing:.10em;
      text-transform:uppercase;
    }

    /* ===== Series / Lookbook ===== */
    .series-grid{ 
      display:grid; 
      grid-template-columns:repeat(2, 1fr); 
      gap:18px; 
      margin-top:22px; 
    }
    
    @media (max-width: 860px){ 
      .series-grid{ grid-template-columns:1fr; } 
    }

    .series-card{
      overflow:hidden;
      border-radius:20px;
      background:#fff;
      border:1px solid rgba(0,0,0,.08);
      box-shadow:var(--shadow2);
      transition:transform var(--transition-base), box-shadow var(--transition-base);
      /* 性能优化：提升为合成层 */
      will-change:transform;
    }
    
    .series-card:hover{ 
      transform:translateY(-4px); 
      box-shadow:var(--shadow); 
    }

    .series-media{
      position:relative;
      overflow:hidden;
      aspect-ratio: 16 / 11;
      background:#f2f2f2;
    }
    
    .series-media img{
      width:100%;
      height:100%;
      object-fit:cover;
      object-position:center;
      transition:transform 0.6s ease;
    }
    
    .series-card:hover .series-media img{
      transform:scale(1.05);
    }
    
    .series-badge{
      position:absolute;
      left:16px;
      top:16px;
      padding:7px 12px;
      border-radius:999px;
      font-size:12px;
      letter-spacing:.12em;
      text-transform:uppercase;
      background:rgba(255,255,255,.85);
      border:1px solid rgba(0,0,0,.10);
      color:rgba(0,0,0,.72);
      backdrop-filter:blur(8px);
      -webkit-backdrop-filter:blur(8px);
      font-weight:600;
    }
    
    .series-body{ padding:20px; }
    
    .series-title{ 
      margin:0 0 10px 0; 
      font-size:16px; 
      letter-spacing:.05em; 
      font-weight:650; 
      color:rgba(0,0,0,.88); 
    }
    
    .series-desc{ 
      margin:0 0 14px 0; 
      font-size:13px; 
      line-height:1.95; 
      color:rgba(0,0,0,.66); 
    }

    .series-tags{ 
      display:flex; 
      gap:8px; 
      flex-wrap:wrap; 
      margin:0 0 16px 0; 
      list-style:none; 
    }
    
    .series-tags li{
      font-size:12px;
      letter-spacing:.08em;
      padding:6px 10px;
      border-radius:999px;
      background:rgba(184,159,122,.10);
      border:1px solid rgba(184,159,122,.20);
      color:rgba(0,0,0,.70);
      font-weight:600;
      text-transform:uppercase;
    }
    
    .series-actions{ 
      display:flex; 
      gap:10px; 
      flex-wrap:wrap; 
    }
    
    .btn{
      display:inline-flex; /* 改为flex以便对齐图标 */
      align-items:center;
      gap:6px;
      padding:10px 16px;
      border-radius:999px;
      font-size:13px;
      letter-spacing:.06em;
      cursor:pointer;
      border:1px solid rgba(0,0,0,.16);
      background:#fff;
      color:rgba(0,0,0,.78);
      transition:all var(--transition-fast);
      font-weight:600;
      text-transform:uppercase;
      text-decoration:none;
    }
    
    .btn:hover{ 
      transform:translateY(-2px); 
      border-color:rgba(0,0,0,.28); 
      background:rgba(0,0,0,.02); 
    }
    
    .btn:focus{
      outline:2px solid var(--sand);
      outline-offset:2px;
    }
    
    .btn-solid{
      border-color:var(--ink);
      background:var(--ink);
      color:#fff;
    }
    
    .btn-solid:hover{ 
      background:#000; 
      border-color:#000; 
    }

    .note{
      margin-top:18px;
      font-size:13px;
      color:rgba(0,0,0,.55);
      line-height:1.95;
    }

    /* ===== Expertise ===== */
    .cap-grid{ 
      display:grid; 
      grid-template-columns:repeat(3, 1fr); 
      gap:14px; 
      margin-top:22px; 
    }
    
    @media (max-width: 980px){ 
      .cap-grid{ grid-template-columns:1fr; } 
    }
    
    .cap{
      padding:20px;
      border-radius:18px;
      background:rgba(255,255,255,.06);
      border:1px solid rgba(255,255,255,.10);
      transition:transform var(--transition-base);
    }
    
    .cap:hover{
      transform:translateY(-2px);
      background:rgba(255,255,255,.08);
    }
    
    .cap h3{
      margin:0 0 10px 0;
      font-size:11px;
      letter-spacing:.34em;
      font-weight:700;
      text-transform:uppercase;
      color:rgba(255,255,255,.92);
    }
    
    .cap p{
      margin:0;
      font-size:13px;
      line-height:1.95;
      color:rgba(255,255,255,.82);
    }
    
    .metrics{ 
      display:flex; 
      justify-content:space-between; 
      gap:14px; 
      flex-wrap:wrap; 
      margin-top:26px; 
    }
    
    .metric{
      flex:1;
      min-width:190px;
      padding:18px;
      border-radius:16px;
      background:rgba(255,255,255,.05);
      border:1px solid rgba(255,255,255,.10);
      transition:background var(--transition-fast);
    }
    
    .metric:hover{
      background:rgba(255,255,255,.08);
    }
    
    .metric-num{ 
      font-size:28px; 
      font-weight:650; 
      letter-spacing:.03em; 
      margin:0; 
      color:#fff; 
    }
    
    .metric-label{ 
      margin-top:6px; 
      font-size:13px; 
      color:rgba(255,255,255,.78); 
      letter-spacing:.06em; 
    }

    /* ===== WeChat Cards ===== */
    .wx-grid{ 
      display:grid; 
      grid-template-columns:repeat(2, 1fr); 
      gap:18px; 
      margin-top:22px; 
    }
    
    @media (max-width: 980px){ 
      .wx-grid{ grid-template-columns:1fr; } 
    }
    
    .wx-card{
      background:#fff;
      border-radius:20px;
      overflow:hidden;
      border:1px solid rgba(0,0,0,.08);
      box-shadow:var(--shadow2);
      transition:transform var(--transition-base), box-shadow var(--transition-base);
      will-change:transform;
    }
    
    .wx-card:hover{ 
      transform:translateY(-4px); 
      box-shadow:var(--shadow); 
    }

    .wx-media{
      aspect-ratio: 16 / 10;
      background:#f2f2f2;
      overflow:hidden;
    }
    
    .wx-media img{
      width:100%;
      height:100%;
      object-fit:cover;
      object-position:center;
      transition:transform 0.6s ease;
    }
    
    .wx-card:hover .wx-media img{
      transform:scale(1.05);
    }
    
    .wx-body{ padding:20px; }
    
    .wx-title{ 
      margin:0 0 10px 0; 
      font-size:15px; 
      letter-spacing:.02em; 
      font-weight:700; 
      color:rgba(0,0,0,.86); 
      line-height:1.4;
    }
    
    .wx-excerpt{ 
      margin:0 0 14px 0; 
      font-size:13px; 
      color:rgba(0,0,0,.62); 
      line-height:1.95; 
    }
    
    .wx-actions{ 
      display:flex; 
      gap:10px; 
      flex-wrap:wrap; 
    }
    
    .wx-btn{
      display:inline-flex;
      align-items:center;
      gap:6px;
      padding:10px 16px;
      border-radius:999px;
      font-size:13px;
      letter-spacing:.04em;
      border:1px solid rgba(0,0,0,.18);
      background:#fff;
      color:rgba(0,0,0,.78);
      cursor:pointer;
      font-weight:650;
      transition:all var(--transition-fast);
      text-decoration:none;
    }
    
    .wx-btn:hover{ 
      transform:translateY(-2px); 
      border-color:rgba(0,0,0,.30); 
    }
    
    .wx-btn-solid{
      background:var(--ink);
      color:#fff;
      border-color:var(--ink);
    }
    
    .wx-btn-solid:hover{ 
      background:#000; 
      border-color:#000; 
    }

    /* ===== Contact ===== */
    .contact-box{
      background:#fff;
      border-radius:22px;
      box-shadow:var(--shadow2);
      padding:30px;
      border:1px solid rgba(0,0,0,.08);
    }
    
    .kv{ 
      display:grid; 
      grid-template-columns:120px 1fr; 
      gap:10px 14px; 
      margin-top:10px; 
    }
    
    .kv div{ 
      font-size:14px; 
      color:rgba(0,0,0,.78); 
    }
    
    .kv .k{ 
      color:rgba(0,0,0,.52); 
      letter-spacing:.10em; 
      font-size:12px; 
      text-transform:uppercase; 
      font-weight:650; 
    }
    
    .kv a{
      color:var(--sand);
      text-decoration:underline;
      text-underline-offset:3px;
      transition:color var(--transition-fast);
    }
    
    .kv a:hover{
      color:var(--ink);
    }
    
    @media (max-width: 640px){ 
      .kv{ grid-template-columns:1fr; gap:4px 0; }
      .kv .k{ margin-top:12px; }
      .kv .k:first-child{ margin-top:0; }
    }

    /* ===== Office / Map ===== */
    .office-card{
      display:flex;
      gap:40px;
      align-items:stretch;
      background:#fff;
      border-radius:24px;
      padding:40px;
      box-shadow:var(--shadow2);
      border:1px solid rgba(0,0,0,.08);
    }
    
    @media (max-width: 980px){ 
      .office-card{ 
        flex-direction:column; 
        padding:28px; 
        gap:24px; 
      } 
    }
    
    .office-left{ 
      flex:1; 
      min-width:280px; 
    }
    
    .office-right{ 
      flex:1; 
      min-width:280px; 
    }

    .office-label{ 
      font-size:11px; 
      letter-spacing:.35em; 
      color:rgba(0,0,0,.50); 
      margin:0 0 12px 0; 
      text-transform:uppercase; 
      font-weight:650; 
    }
    
    .office-name{ 
      margin:0 0 10px 0; 
      font-size:22px; 
      letter-spacing:.02em; 
      font-weight:750; 
      color:rgba(0,0,0,.86); 
    }
    
    .office-addr{ 
      margin:0 0 16px 0; 
      font-size:14px; 
      color:rgba(0,0,0,.66); 
      line-height:2.0; 
    }
    
    .office-hint{ 
      margin:0 0 18px 0; 
      font-size:13px; 
      color:rgba(0,0,0,.58); 
      line-height:1.95; 
    }

    .office-actions{ 
      display:flex; 
      gap:10px; 
      flex-wrap:wrap; 
    }
    
    .map-btn{
      display:inline-flex;
      align-items:center;
      gap:6px;
      border:1px solid rgba(0,0,0,.18);
      padding:10px 18px;
      border-radius:999px;
      font-size:13px;
      letter-spacing:.04em;
      cursor:pointer;
      background:var(--ink);
      color:#fff;
      font-weight:650;
      transition:all var(--transition-fast);
      text-decoration:none;
    }
    
    .map-btn:hover{ 
      transform:translateY(-2px); 
      background:#000; 
    }
    
    .map-btn-ghost{
      background:#fff;
      color:rgba(0,0,0,.78);
      border-color:rgba(0,0,0,.18);
    }
    
    .map-btn-ghost:hover{ 
      background:rgba(0,0,0,.02); 
    }

    .map-shell{
      background:#fff;
      border:1px solid rgba(0,0,0,.08);
      border-radius:18px;
      overflow:hidden;
      box-shadow:0 12px 34px rgba(0,0,0,.06);
    }
    
    .map-top{
      display:flex;
      justify-content:space-between;
      align-items:center;
      padding:14px 16px;
      border-bottom:1px solid rgba(0,0,0,.08);
      background:#faf9f6;
    }
    
    .map-top strong{ 
      font-size:12px; 
      letter-spacing:.18em; 
      color:#111; 
      font-weight:750; 
    }
    
    .map-top span{ 
      font-size:12px; 
      color:rgba(0,0,0,.52); 
    }
    
    #mapFrame{ 
      width:100%; 
      height:360px; 
      border:0; 
      display:none; 
    }
    
    .map-fallback{
      padding:16px;
      font-size:13px;
      color:rgba(0,0,0,.58);
      line-height:1.85;
    }

    /* ===== Footer ===== */
    footer{
      background:#f2f1ed;
      padding:54px 0 52px 0;
      text-align:center;
      color:rgba(0,0,0,.55);
      font-size:13px;
      border-top:1px solid rgba(0,0,0,.06);
    }
    
    .footer-copy{
      font-size:12px;
      color:rgba(0,0,0,.50);
      letter-spacing:.08em;
    }

    /* ===== Responsive ===== */
    @media (max-width: 980px){
      .topbar{
        flex-wrap:nowrap; /* 防止header过高 */
      }
      .brand{
        min-width:auto;
      }
      .brand img{
        height:48px;
        padding:8px 12px;
      }
      .brand-title{
        font-size:13px;
      }
      .brand-sub{
        font-size:11px;
      }
    }

    @media (max-width: 768px){
      .section{ padding:64px 0; }
      .hero{ padding:64px 0 54px 0; }
      .chips{ gap:8px; }
      .chip{ font-size:12px; padding:8px 12px; }
    }

    /* 打印样式优化 */
    @media print{
      header, .lang-switch, .office-actions, .series-actions, .wx-actions{
        display:none !important;
      }
      .section{ padding:40px 0 !important; }
      body{ background:#fff !important; color:#000 !important; }
    }
  </style>
</head>

<body>
  <header id="mainHeader">
    <div class="wrap topbar">
      <div class="brand">
        <img src="LOGO.png" alt="OTSU YARN Logo" width="120" height="60">
        <div>
          <div class="brand-title">
            <span data-lang="zh">上海欧津纺织服装有限公司</span>
            <span data-lang="en">Shanghai Otsu Textile & Apparel Co., Ltd.</span>
            <span data-lang="jp">上海欧津紡織服装有限公司</span>
          </div>
          <div class="brand-sub">OTSU YARN｜Material Supply & Development</div>
        </div>
      </div>

      <nav aria-label="Main navigation">
        <a href="#about"><span data-lang="zh">关于我们</span><span data-lang="en">About</span><span data-lang="jp">会社概要</span></a>
        <a href="#philo"><span data-lang="zh">材料理念</span><span data-lang="en">Philosophy</span><span data-lang="jp">素材思想</span></a>
        <a href="#series"><span data-lang="zh">产品图鉴</span><span data-lang="en">Lookbook</span><span data-lang="jp">ルックブック</span></a>
        <a href="#expertise"><span data-lang="zh">核心能力</span><span data-lang="en">Expertise</span><span data-lang="jp">強み</span></a>
        <a href="#wx"><span data-lang="zh">公众号专题</span><span data-lang="en">WeChat</span><span data-lang="jp">公式記事</span></a>
        <a href="#contact"><span data-lang="zh">联系方式</span><span data-lang="en">Contact</span><span data-lang="jp">お問い合わせ</span></a>
        <a href="#office"><span data-lang="zh">公司位置</span><span data-lang="en">Location</span><span data-lang="jp">所在地</span></a>
      </nav>

      <div class="lang-switch" role="group" aria-label="Language switcher">
        <button type="button" data-set-lang="zh" aria-pressed="false">中文</button>
        <button type="button" data-set-lang="en" aria-pressed="false">EN</button>
        <button type="button" data-set-lang="jp" aria-pressed="false">日本語</button>
      </div>
    </div>
  </header>

  <!-- HERO -->
  <section class="hero" id="top">
    <div class="wrap narrow">
      <p class="hero-kicker fade-up">OTSU YARN</p>

      <h1 class="hero-title fade-up">
        <span data-lang="zh">花式纱线<br>定义持久之美</span>
        <span data-lang="en">Engineered Yarns <br>that Define Enduring Beauty</span>
        <span data-lang="jp">持続する美しさを定義する<br>ファンシーヤーン</span>
      </h1>

      <p class="hero-desc fade-up">
        <span data-lang="zh">面向贸易商、成衣制造工厂及高端时尚品牌客户，提供稳定、透明、可追溯的纱线供应体系；支持现货供应、订单生产及特殊规格定制，并提供中、英、日多语对接服务，提升协作效率。</span>
        <span data-lang="en">For traders, garment manufacturers and premium fashion brands, we deliver a stable, transparent and fully traceable yarn supply experience.
Supporting in-stock availability, made-to-order production and custom specifications — with seamless coordination in Chinese, English and Japanese.</span>
        <span data-lang="jp">商社・縫製工場・ハイエンドファッションブランド向けに、安定的かつ透明性の高い、トレーサビリティを備えた糸供給体制を提供しております。
即納在庫・受注生産・特殊仕様への対応に加え、中・英・日の多言語で円滑なコミュニケーションを実現します。</span>
      </p>

      <div class="chips fade-up">
        <span class="chip"><span data-lang="zh">纱线现货供应</span><span data-lang="en">In-stock supply</span><span data-lang="jp">即納在庫</span></span>
        <span class="chip"><span data-lang="zh">订单生产对接</span><span data-lang="en">Made-to-order</span><span data-lang="jp">受注生産</span></span>
        <span class="chip"><span data-lang="zh">特殊规格定制</span><span data-lang="en">Bespoke specs</span><span data-lang="jp">特殊仕様</span></span>
        <span class="chip"><span data-lang="zh">中/英/日多语对接</span><span data-lang="en">CN/EN/JP</span><span data-lang="jp">中/英/日対応</span></span>
      </div>
    </div>
  </section>

  <!-- ABOUT -->
  <section class="section section-white" id="about">
    <div class="wrap narrow">
      <p class="kicker fade-up">ABOUT</p>
      <h2 class="title fade-up">
        <span data-lang="zh">公司简介</span>
        <span data-lang="en">Company Profile</span>
        <span data-lang="jp">会社概要</span>
      </h2>

      <p class="lead fade-up">
        <span data-lang="zh">自 2004 年进入纱线行业以来，我们持续深耕花式纱线研发、高端品牌协同与供应链管理；以材料开发能力与稳定供给能力为核心，长期服务日本、欧洲及中国一线时尚品牌与制造合作伙伴。</span>
        <span data-lang="en">Since entering the yarn industry in 2004, we have focused on fancy yarn R&D, premium-brand collaboration, and supply chain management—combining material development with reliable delivery for global partners.</span>
        <span data-lang="jp">2004年の参入以来、ファンシーヤーンの開発、高級ブランドとの協業、サプライチェーン管理を継続的に強化。素材開発力と安定供給を軸に、日欧中の主要パートナーを長期的に支えています。</span>
      </p>
    </div>
  </section>

  <!-- PHILOSOPHY -->
  <section class="section philo" id="philo">
    <div class="wrap narrow">
      <p class="kicker fade-up">PHILOSOPHY</p>
      <h2 class="title fade-up">
        <span data-lang="zh">材料理念</span>
        <span data-lang="en">Material Philosophy</span>
        <span data-lang="jp">素材思想</span>
      </h2>

      <div class="philo-card fade-up">
        <p class="philo-quote">
          <span data-lang="zh"><strong>结构定义质感。</strong> 质感定义风格。<br>我们用更安静、更确定的方式，把材料从概念带到量产。</span>
          <span data-lang="en"><strong>Structure defines hand-feel.</strong> Hand-feel defines style.<br>Quietly engineered—reliably delivered from concept to scale.</span>
          <span data-lang="jp"><strong>構造が風合いを決める。</strong> 風合いがスタイルを決める。<br>静かに設計し、確実に量産へ落とし込む。</span>
        </p>
        <div class="philo-sub">
          <span data-lang="zh">ENGINEERED QUIETLY · DELIVERED RELIABILY</span>
          <span data-lang="en">ENGINEERED QUIETLY · DELIVERED RELIABILY</span>
          <span data-lang="jp">静かな設計 · 確かな納品</span>
        </div>
      </div>
    </div>
  </section>

  <!-- SERIES / LOOKBOOK -->
  <section class="section section-light" id="series">
    <div class="wrap">
      <div class="narrow">
        <p class="kicker fade-up">LOOKBOOK</p>
        <h2 class="title fade-up">
          <span data-lang="zh">产品图鉴 / 系列专题</span>
          <span data-lang="en">Lookbook / Series</span>
          <span data-lang="jp">ルックブック / 特集</span>
        </h2>
      </div>

      <div class="series-grid">
        <article class="series-card fade-up">
          <div class="series-media">
            <img src="assets/brand/series_tile_01.png" alt="Fancy Yarn Development" loading="lazy" width="800" height="550">
          </div>
          <div class="series-body">
            <h3 class="series-title">
              <span data-lang="zh">花式纱线创新研发</span>
              <span data-lang="en">Fancy Yarn Development</span>
              <span data-lang="jp">ファンシーヤーン開発</span>
            </h3>
            <p class="series-desc">
              <span data-lang="zh">围绕结构、风合与视觉纹理进行差异化开发，输出可量产的材料方案。</span>
              <span data-lang="en">Differentiated development across structure, hand-feel and texture—built for scale.</span>
              <span data-lang="jp">構造・風合い・テクスチャーを軸に差別化し、量産に落とし込める素材提案。</span>
            </p>
            <ul class="series-tags"><li>R&D</li><li>Texture</li><li>Sampling</li></ul>
            <div class="series-actions">
              <a class="btn btn-solid" href="series.html?topic=fancy"><span data-lang="zh">查看详情</span><span data-lang="en">View</span><span data-lang="jp">詳細</span></a>
              <a class="btn" href="#wx"><span data-lang="zh">公众号阅读</span><span data-lang="en">WeChat</span><span data-lang="jp">記事</span></a>
            </div>
          </div>
        </article>

        <article class="series-card fade-up">
          <div class="series-media">
            <img src="assets/brand/series_tile_02.png" alt="Premium Brand Supply" loading="lazy" width="800" height="550">
          </div>
          <div class="series-body">
            <h3 class="series-title">
              <span data-lang="zh">高端品牌供货与协同</span>
              <span data-lang="en">Premium Brand Supply</span>
              <span data-lang="jp">高級ブランド供給</span>
            </h3>
            <p class="series-desc">
              <span data-lang="zh">稳定交付、透明沟通与可追溯管理，提升执行确定性。</span>
              <span data-lang="en">Stable delivery, transparent communication and traceability—reliable execution.</span>
              <span data-lang="jp">安定納品・透明なコミュニケーション・トレーサブル管理で実行確度を高めます。</span>
            </p>
            <ul class="series-tags"><li>Supply</li><li>Traceable</li><li>PM</li></ul>
            <div class="series-actions">
              <a class="btn btn-solid" href="series.html?topic=supply"><span data-lang="zh">查看详情</span><span data-lang="en">View</span><span data-lang="jp">詳細</span></a>
            </div>
          </div>
        </article>

        <article class="series-card fade-up">
          <div class="series-media">
            <img src="assets/brand/series_tile_03.png" alt="Bespoke Specifications" loading="lazy" width="800" height="550">
          </div>
          <div class="series-body">
            <h3 class="series-title">
              <span data-lang="zh">特殊规格定制</span>
              <span data-lang="en">Bespoke Specifications</span>
              <span data-lang="jp">特殊仕様カスタム</span>
            </h3>
            <p class="series-desc">
              <span data-lang="zh">支数、成分、捻度、染色与结构精细化对接，支持打样到量产一体化。</span>
              <span data-lang="en">Counts, blends, twist and dyeing—aligned from sampling to bulk production.</span>
              <span data-lang="jp">番手・混率・撚り・染色・構造などを精緻に調整し、サンプル〜量産まで一貫対応。</span>
            </p>
            <ul class="series-tags"><li>Spec</li><li>Color</li><li>Scale</li></ul>
            <div class="series-actions">
              <a class="btn btn-solid" href="series.html?topic=bespoke"><span data-lang="zh">查看详情</span><span data-lang="en">View</span><span data-lang="jp">詳細</span></a>
            </div>
          </div>
        </article>

        <article class="series-card fade-up">
          <div class="series-media">
            <img src="assets/brand/series_tile_04.png" alt="Innovation & Partnership" loading="lazy" width="800" height="550">
          </div>
          <div class="series-body">
            <h3 class="series-title">
              <span data-lang="zh">创新研发与伙伴式合作</span>
              <span data-lang="en">Innovation & Partnership</span>
              <span data-lang="jp">共創とパートナーシップ</span>
            </h3>
            <p class="series-desc">
              <span data-lang="zh">联合设计师、院校与合作伙伴推进创意开发与落地，以稳定供给支撑持续创新。</span>
              <span data-lang="en">Co-create with designers and institutes to turn ideas into scalable products.</span>
              <span data-lang="jp">デザイナーや教育機関と共創し、アイデアを量産可能な形へ。安定供給で継続的な革新を支えます。</span>
            </p>
            <ul class="series-tags"><li>Co-create</li><li>Design</li><li>Network</li></ul>
            <div class="series-actions">
              <a class="btn btn-solid" href="series.html?topic=innovation"><span data-lang="zh">查看详情</span><span data-lang="en">View</span><span data-lang="jp">詳細</span></a>
            </div>
          </div>
        </article>
      </div>
    </div>
  </section>

  <!-- EXPERTISE -->
  <section class="section section-dark" id="expertise">
    <div class="wrap narrow">
      <p class="kicker fade-up" style="color:rgba(255,255,255,.60)">EXPERTISE</p>
      <h2 class="title-light fade-up">
        <span data-lang="zh">核心能力</span>
        <span data-lang="en">Core Expertise</span>
        <span data-lang="jp">主な強み</span>
      </h2>
      <p class="lead-light fade-up">
        <span data-lang="zh">以"研发导向 + 稳定供应 + 跨语协同"为主轴，将材料方案、项目执行与交付确定性统一到同一套工作逻辑中。</span>
        <span data-lang="en">R&D-driven + reliable supply + multilingual collaboration—one workflow from material planning to delivery certainty.</span>
        <span data-lang="jp">「開発主導 × 安定供給 × 多言語連携」を軸に、素材提案から納品確度まで一貫した運用で支えます。</span>
      </p>

      <div class="cap-grid">
        <div class="cap fade-up">
          <h3>Material R&D</h3>
          <p><span data-lang="zh">花式纱线研发与技术导向；支持从概念到打样的材料路线设计。</span><span data-lang="en">Fancy yarn R&D and technical direction—from concept to sampling route.</span><span data-lang="jp">ファンシーヤーン開発と技術設計。コンセプト〜サンプルまでの素材設計を支援。</span></p>
        </div>
        <div class="cap fade-up">
          <h3>Delivery System</h3>
          <p><span data-lang="zh">稳定交付与透明沟通；强调里程碑与可追溯管理。</span><span data-lang="en">Stable delivery and transparent communication with traceable management.</span><span data-lang="jp">安定納品と透明な連携。マイルストーンとトレーサブル管理を重視。</span></p>
        </div>
        <div class="cap fade-up">
          <h3>Multi-lang Support</h3>
          <p><span data-lang="zh">中/英/日对接；减少信息损耗，提高跨团队协作效率。</span><span data-lang="en">CN/EN/JP support to reduce information loss and improve coordination.</span><span data-lang="jp">中/英/日での連携により、情報ロスを抑え協業効率を向上。</span></p>
        </div>
      </div>

      <div class="metrics">
        <div class="metric fade-up">
          <p class="metric-num">20+ years</p>
          <div class="metric-label"><span data-lang="zh">行业深耕</span><span data-lang="en">Industry experience</span><span data-lang="jp">業界経験</span></div>
        </div>
        <div class="metric fade-up">
          <p class="metric-num">CN/EN/JP</p>
          <div class="metric-label"><span data-lang="zh">多语协同</span><span data-lang="en">Multilingual</span><span data-lang="jp">多言語対応</span></div>
        </div>
        <div class="metric fade-up">
          <p class="metric-num">R&D × Supply</p>
          <div class="metric-label"><span data-lang="zh">开发与供应一体</span><span data-lang="en">Integrated workflow</span><span data-lang="jp">開発×供給</span></div>
        </div>
      </div>
    </div>
  </section>

  <!-- WECHAT -->
  <section class="section section-light" id="wx">
    <div class="wrap">
      <div class="narrow">
        <p class="kicker fade-up">WECHAT</p>
        <h2 class="title fade-up">
          <span data-lang="zh">公众号系列专题</span>
          <span data-lang="en">WeChat Series</span>
          <span data-lang="jp">公式記事リンク</span>
        </h2>
      </div>

      <div class="wx-grid">
        <article class="wx-card fade-up">
          <div class="wx-media">
            <img src="assets/brand/wechat_preview_01.jpg" alt="Spring/Summer Trends Article" loading="lazy" width="640" height="400">
          </div>
          <div class="wx-body">
            <h3 class="wx-title">
              <span data-lang="zh">解码 26/27 春夏趋势｜欧津 OTSU 花式带子纱</span>
              <span data-lang="en">Decoding the 26/27 Spring/Summer Trends | OTSU Fancy Tape Yarn</span>
              <span data-lang="jp">26/27年春夏トレンド解読｜オツ RUBY-WS ファンシーテープヤーン</span>
            </h3>
            <p class="wx-excerpt">
              <span data-lang="zh">第一篇<br>
              从趋势洞察到工艺实现，纱线的一物多用提升了开发与库存效率。<br>
              当趋势转化为纺织组织和肌理，纱线成为风格定义的起点。</span>
              <span data-lang="en">First Article<br>
              From trend insights to the implementation of technology, yarns with multiple uses enhance development and inventory efficiency.<br>
              When trends transform into textile structures and textures, yarns become the starting point for defining style.</span>
              <span data-lang="jp">第一篇<br>
              トレンド洞察から技術実現まで、糸の多用途は開発と在庫効率を向上させます。<br>
              トレンドが織物構造と質感に変わると、糸はスタイルを定義する出発点となります。</span>
            </p>
            <div class="wx-actions">
              <a class="wx-btn wx-btn-solid" href="https://mp.weixin.qq.com/s/AGSnjUDycr25PSAm_pNs_w" target="_blank" rel="noopener noreferrer">
                <span data-lang="zh">阅读公众号原文</span>
                <span data-lang="en">Read on WeChat</span>
                <span data-lang="jp">WeChatで記事を読む</span>
              </a>
              <a class="wx-btn" href="#series">
                <span data-lang="zh">返回产品图鉴</span>
                <span data-lang="en">Back to Lookbook</span>
                <span data-lang="jp">製品カタログへ戻る</span>
              </a>
            </div>
          </div>
        </article>

        <article class="wx-card fade-up">
          <div class="wx-media">
            <img src="assets/brand/wechat_preview_02.jpg" alt="Wool and Silk Article" loading="lazy" width="640" height="400">
          </div>
          <div class="wx-body">
            <h3 class="wx-title">
              <span data-lang="zh">OTSU欧津 RUBY-WS：当羊毛织进蚕丝里，便有了穿在身上的"月光"</span>
              <span data-lang="en">OTSU RUBY-WS: When Wool is Woven into Silk, It Becomes the 'Moonlight' Worn on the Body</span>
              <span data-lang="jp">OTSU RUBY-WS：羊毛が絹に織り込まれると、体に着る「月光」が生まれる</span>
            </h3>
            <p class="wx-excerpt">
              <span data-lang="zh">第二篇<br>
              羊毛与桑蚕丝复合结构，在垂坠感和四季适穿性之间取得平衡。<br>
              如月光般柔和的光感，在垂坠性和弹性之间找到完美平衡。</span>
              <span data-lang="en">Second Article<br>
              The composite structure of wool and mulberry silk strikes a balance between drape and year-round wearability.<br>
              Soft and light, like moonlight, it finds a perfect balance between drape and elasticity.</span>
              <span data-lang="jp">第二篇<br>
              羊毛と桑蚕シルクの複合構造は、ドレープ感と四季を通じて着やすさの間でバランスを取っています。<br>
              月光のような柔らかさと光感が、ドレープ性と弾力性の間で完璧なバランスを見つけます。</span>
            </p>
            <div class="wx-actions">
              <a class="wx-btn wx-btn-solid" href="https://mp.weixin.qq.com/s/AGSnjUDycr25PSAm_pNs_w" target="_blank" rel="noopener noreferrer">
                <span data-lang="zh">阅读公众号原文</span>
                <span data-lang="en">Read on WeChat</span>
                <span data-lang="jp">WeChatで記事を読む</span>
              </a>
              <a class="wx-btn" href="#series">
                <span data-lang="zh">返回产品图鉴</span>
                <span data-lang="en">Back to Lookbook</span>
                <span data-lang="jp">製品カタログへ戻る</span>
              </a>
            </div>
          </div>
        </article>
      </div>
    </div>
  </section>

  <!-- CONTACT -->
  <section class="section section-white" id="contact">
    <div class="wrap narrow">
      <p class="kicker fade-up">CONTACT</p>
      <h2 class="title fade-up">
        <span data-lang="zh">联系方式</span>
        <span data-lang="en">Contact</span>
        <span data-lang="jp">お問い合わせ</span>
      </h2>

      <div class="contact-box fade-up">
        <div class="kv">
          <div class="k"><span data-lang="zh">业务咨询</span><span data-lang="en">Business</span><span data-lang="jp">ビジネス</span></div>
          <div></div>

          <div class="k">Email</div>
          <div><a href="mailto:zyq@otsu1128.com">zyq@otsu1128.com</a></div>

          <div class="k"><span data-lang="zh">微信</span><span data-lang="en">WeChat</span><span data-lang="jp">WeChat</span></div>
          <div>15021256895</div>

          <div class="k"><span data-lang="zh">说明</span><span data-lang="en">Note</span><span data-lang="jp">備考</span></div>
          <div>
            <span data-lang="zh">请简单说明来意，并留下联系方式，谢谢！</span>
            <span data-lang="en">Please briefly state your inquiry and leave your contact info. Thank you.</span>
            <span data-lang="jp">ご用件とご連絡先をご記載ください。よろしくお願いいたします。</span>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- OFFICE / MAP -->
  <section class="section section-light" id="office">
    <div class="wrap">
      <div class="office-card fade-up">
        <div class="office-left">
          <p class="office-label">LOCATION</p>
          <h3 class="office-name">
            <span data-lang="zh">上海欧津纺织服装有限公司</span>
            <span data-lang="en">OTSU YARN</span>
            <span data-lang="jp">OTSU YARN</span>
          </h3>
          <p class="office-addr">
            <span data-lang="zh">上海市长宁区...</span>
            <span data-lang="en">Changning District, Shanghai...</span>
            <span data-lang="jp">上海市長寧区...</span>
          </p>
          <p class="office-hint">
            <span data-lang="zh">来访前请提前预约</span>
            <span data-lang="en">Please make an appointment before visiting</span>
            <span data-lang="jp">ご来訪前に事前予約をお願いします</span>
          </p>

          <div class="office-actions">
            <a class="map-btn" href="https://map.baidu.com/?shareurl=1&poiShareUid=911c35b161b15dd87adbd238" target="_blank" rel="noopener noreferrer">
              <span data-lang="zh">在百度地图中打开</span>
              <span data-lang="en">Open in Baidu Maps</span>
              <span data-lang="jp">百度地図で開く</span>
            </a>
            <button class="map-btn map-btn-ghost" type="button" id="loadMapBtn">
              <span data-lang="zh">加载嵌入地图</span>
              <span data-lang="en">Load Embed Map</span>
              <span data-lang="jp">地図を読み込む</span>
            </button>
          </div>
        </div>

        <div class="office-right">
          <div class="map-shell">
            <div class="map-top">
              <strong>BAIDU MAP</strong>
              <span id="mapStatus"></span>
            </div>
            <iframe id="mapFrame" loading="lazy" referrerpolicy="no-referrer-when-downgrade" title="Company Location Map"></iframe>
            <div class="map-fallback" id="mapFallback" style="display:none;">
              <span data-lang="zh">地图加载失败，请使用上方按钮在外部地图应用中查看。</span>
              <span data-lang="en">Map failed to load. Please use the button above to view in external map app.</span>
              <span data-lang="jp">地図の読み込みに失敗しました。上のボタンで外部アプリをご利用ください。</span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <footer>
    <div class="wrap">
      <div class="footer-copy">© 2026 上海欧津纺织服装有限公司 · OTSU YARN</div>
    </div>
  </footer>

  <script>
    // 语言管理模块
    const LanguageManager = {
      currentLang: 'zh',
      
      init() {
        this.currentLang = localStorage.getItem("siteLang") || "zh";
        this.apply(this.currentLang);
        this.bindEvents();
      },
      
      set(lang) {
        this.currentLang = lang;
        localStorage.setItem("siteLang", lang);
        this.apply(lang);
        this.updateButtons(lang);
      },
      
      apply(lang) {
        // 使用class切换而非style.display，更利于CSS控制
        document.querySelectorAll("[data-lang]").forEach(el => {
          el.classList.toggle('active', el.getAttribute("data-lang") === lang);
        });
        document.documentElement.setAttribute("lang", lang === "jp" ? "ja" : (lang === "en" ? "en" : "zh-CN"));
      },
      
      updateButtons(activeLang) {
        document.querySelectorAll('.lang-switch button').forEach(btn => {
          const isActive = btn.dataset.setLang === activeLang;
          btn.classList.toggle('active', isActive);
          btn.setAttribute('aria-pressed', isActive);
        });
      },
      
      bindEvents() {
        document.querySelectorAll('.lang-switch button').forEach(btn => {
          btn.addEventListener('click', (e) => {
            this.set(e.target.dataset.setLang);
          });
        });
      }
    };

    // 滚动动画管理（使用Intersection Observer替代CSS动画延迟）
    const ScrollAnimator = {
      observer: null,
      
      init() {
        // 检查浏览器是否支持并偏好减少动画
        if (window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
          document.querySelectorAll('.fade-up').forEach(el => el.classList.add('visible'));
          return;
        }
        
        this.observer = new IntersectionObserver((entries) => {
          entries.forEach(entry => {
            if (entry.isIntersecting) {
              // 添加随机延迟，创造自然错落感
              const delay = Math.random() * 200;
              setTimeout(() => {
                entry.target.classList.add('visible');
              }, delay);
              this.observer.unobserve(entry.target);
            }
          });
        }, {
          threshold: 0.1,
          rootMargin: '0px 0px -50px 0px'
        });
        
        document.querySelectorAll('.fade-up').forEach(el => {
          this.observer.observe(el);
        });
      }
    };

    // Header滚动效果
    const HeaderManager = {
      init() {
        const header = document.getElementById('mainHeader');
        let ticking = false;
        
        window.addEventListener('scroll', () => {
          if (!ticking) {
            window.requestAnimationFrame(() => {
              header.classList.toggle('scrolled', window.scrollY > 20);
              ticking = false;
            });
            ticking = true;
          }
        }, { passive: true });
      }
    };

    // 地图管理
    const MapManager = {
      init() {
        const btn = document.getElementById('loadMapBtn');
        if (btn) {
          btn.addEventListener('click', () => this.load(true));
        }
      },
      
      load(force = false) {
        const frame = document.getElementById("mapFrame");
        const fallback = document.getElementById("mapFallback");
        const status = document.getElementById("mapStatus");
        
        if (!force && frame.src) return;
        
        fallback.style.display = "none";
        if (status) status.textContent = 'Loading...';
        
        // 使用更可靠的百度地图嵌入方式
        const mapUrl = "https://map.baidu.com/?shareurl=1&poiShareUid=911c35b161b15dd87adbd238";
        
        frame.onload = () => {
          if (status) status.textContent = '';
        };
        
        frame.onerror = () => {
          fallback.style.display = "block";
          if (status) status.textContent = 'Failed';
        };
        
        // 延迟加载，避免阻塞
        setTimeout(() => {
          frame.src = mapUrl;
          frame.style.display = "block";
        }, 100);
      }
    };

    // 平滑滚动优化（处理固定header偏移）
    const SmoothScroll = {
      init() {
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
          anchor.addEventListener('click', function(e) {
            const targetId = this.getAttribute('href');
            if (targetId === '#') return;
            
            const target = document.querySelector(targetId);
            if (target) {
              e.preventDefault();
              const headerOffset = 80;
              const elementPosition = target.getBoundingClientRect().top;
              const offsetPosition = elementPosition + window.pageYOffset - headerOffset;
              
              window.scrollTo({
                top: offsetPosition,
                behavior: 'smooth'
              });
            }
          });
        });
      }
    };

    // 初始化
    document.addEventListener("DOMContentLoaded", () => {
      LanguageManager.init();
      ScrollAnimator.init();
      HeaderManager.init();
      MapManager.init();
      SmoothScroll.init();
    });

    // 暴露全局函数供HTML内联事件使用（保持向后兼容）
    window.setLang = (lang) => LanguageManager.set(lang);
    window.loadEmbedMap = (force) => MapManager.load(force);
  </script>
</body>
</html>
